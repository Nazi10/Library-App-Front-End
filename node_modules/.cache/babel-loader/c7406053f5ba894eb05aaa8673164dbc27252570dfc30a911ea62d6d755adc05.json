{"ast":null,"code":"\"use strict\";\n\n/* eslint-disable no-bitwise */\n/* eslint-disable no-plusplus */\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Guid = void 0;\nconst guid_constants_1 = require(\"./guid.constants\");\nconst guid_helpers_1 = require(\"./guid.helpers\");\nclass Guid {\n  /**\r\n   * Create a new instance of the Guid with the given value,\r\n   * or generate a new Guid if no value was given.\r\n   * @param value The target value if already exists, leave it empty for a new value.\r\n   */\n  constructor(value) {\n    /**\r\n     * Holds a Uint8Array of 16 elements containing the GUID values.\r\n     */\n    this.BytesGuid = new Uint8Array(16);\n    /**\r\n     * Holds the string value of the GUID.\r\n     */\n    this.StringGuid = '';\n    this.BytesGuid = new Uint8Array(16);\n    this.StringGuid = '';\n    if (!value) {\n      this.StringGuid = guid_helpers_1.GenerateGuidV4();\n      this.BytesGuid = guid_helpers_1.stringToUint8Array(this.StringGuid);\n      return;\n    }\n    if (typeof value === 'string') {\n      if (!Guid.isValid(value)) {\n        throw new Error(guid_constants_1.INVALID_GUID);\n      }\n      this.StringGuid = value;\n      this.BytesGuid = guid_helpers_1.stringToUint8Array(this.StringGuid);\n      return;\n    }\n    if (typeof value === 'object' && value instanceof Uint8Array) {\n      if (!Guid.isValid(value)) {\n        throw new Error(guid_constants_1.INVALID_GUID);\n      }\n      this.BytesGuid = value;\n      this.StringGuid = guid_helpers_1.uint8ArrayToString(value);\n      return;\n    }\n    throw new Error(guid_constants_1.UNSUPPORTED_TYPE);\n  }\n  toString() {\n    return this.StringGuid;\n  }\n  toByteArray() {\n    return this.BytesGuid;\n  }\n  equals(value) {\n    if (!value) {\n      throw new Error(guid_constants_1.VALUE_REQUIRED);\n    }\n    if (typeof value === 'string') {\n      if (!guid_helpers_1.isStringValidGuid(value)) {\n        throw new Error(guid_constants_1.INVALID_GUID);\n      }\n      return this.StringGuid === value;\n    }\n    if (typeof value !== 'object') {\n      throw new Error(guid_constants_1.UNSUPPORTED_TYPE);\n    }\n    if (value instanceof Uint8Array) {\n      if (!guid_helpers_1.isUint8ArrayValidGuid(value)) {\n        throw new Error(guid_constants_1.INVALID_GUID);\n      }\n      return this.StringGuid === guid_helpers_1.uint8ArrayToString(value);\n    }\n    if (value instanceof Guid) {\n      return this.StringGuid === value.toString();\n    }\n    return true;\n  }\n  isEmpty() {\n    return this.StringGuid === Guid.EMPTY;\n  }\n  /**\r\n   * Parse the given value into the opposite type.\r\n   * Example : if value is string the function return a {Uint8Array of 16 elements},\r\n   * otherwise it return a {string} if the value is a Uint8Array.\r\n   */\n  static parse(value) {\n    if (!Guid.isValid(value)) {\n      throw new Error(guid_constants_1.INVALID_GUID);\n    }\n    if (typeof value === 'object' && value instanceof Uint8Array) {\n      return guid_helpers_1.uint8ArrayToString(value);\n    }\n    // At this point we're sure that the value is string.\n    return guid_helpers_1.stringToUint8Array(value);\n  }\n  /**\r\n   * Generate a new v4 Guid and return a new instance of the Guid.\r\n   */\n  static newGuid() {\n    return new Guid(guid_helpers_1.GenerateGuidV4());\n  }\n  /**\r\n   *  Checks if the given value is a valid GUID.\r\n   * @param value The given guid that need to be validated.\r\n   */\n  static isValid(value) {\n    if (!value) {\n      throw new Error(guid_constants_1.VALUE_REQUIRED);\n    }\n    if (typeof value === 'string') {\n      return guid_helpers_1.isStringValidGuid(value);\n    }\n    if (typeof value === 'object' && value instanceof Uint8Array) {\n      if (value.length !== guid_helpers_1.ARRAY_LENGTH) {\n        throw new Error(guid_constants_1.INVALID_GUID);\n      }\n      return guid_helpers_1.isUint8ArrayValidGuid(value);\n    }\n    throw new Error(guid_constants_1.UNSUPPORTED_TYPE);\n  }\n}\nexports.Guid = Guid;\n/**\r\n * Empty string Guid value: '00000000-0000-0000-0000-000000000000'.\r\n */\nGuid.EMPTY = '00000000-0000-0000-0000-000000000000';","map":{"version":3,"mappings":"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","names":["Guid","constructor","value","Uint8Array","BytesGuid","StringGuid","guid_helpers_1","isValid","Error","guid_constants_1","toString","toByteArray","equals","isEmpty","EMPTY","parse","newGuid","length","exports"],"sources":["../src/guid.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}